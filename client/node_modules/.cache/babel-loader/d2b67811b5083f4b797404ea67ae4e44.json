{"ast":null,"code":"import _objectSpread from\"/Users/chritsophersarmiento/git/my-portfolio/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/chritsophersarmiento/git/my-portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{omit}from\"lodash\";var useLogin=function useLogin(callback){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];var validate=function validate(name,value){switch(name){case\"username\":if(!new RegExp(/^[A-Za-z-0-9]+$/).test(value)||value.length!==8){setErrors(_objectSpread(_objectSpread({},errors),{},{username:true}));}else{var newObj=omit(errors,\"username\");setErrors(newObj);}break;case\"password\":if(!new RegExp(/^[A-Za-z-0-9]+$/).test(value)||value.length!==12){setErrors(_objectSpread(_objectSpread({},errors),{},{password:true}));}else{var _newObj=omit(errors,\"password\");setErrors(_newObj);}break;}};var handleChange=function handleChange(e){e.persist();var name=e.target.name;var val=e.target.value;validate(name,val);if(name===\"username\")setUsername(val);if(name===\"password\")setPassword(val);};var handleSubmit=function handleSubmit(e){e.preventDefault();if(Object.keys(errors).length===0)callback();else{alert(\"Incorrect username or password\");window.location.reload();}};return{username:username,password:password,setUsername:setUsername,setPassword:setPassword,handleChange:handleChange,handleSubmit:handleSubmit};};export default useLogin;","map":{"version":3,"sources":["/Users/chritsophersarmiento/git/my-portfolio/src/hooks/useLogin.js"],"names":["useState","omit","useLogin","callback","username","setUsername","password","setPassword","errors","setErrors","validate","name","value","RegExp","test","length","newObj","handleChange","e","persist","target","val","handleSubmit","preventDefault","Object","keys","alert","window","location","reload"],"mappings":"mQAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,IAAT,KAAqB,QAArB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,QAAD,CAAc,CAC7B,cAAgCH,QAAQ,CAAC,EAAD,CAAxC,wCAAOI,QAAP,eAAiBC,WAAjB,eACA,eAAgCL,QAAQ,CAAC,EAAD,CAAxC,yCAAOM,QAAP,eAAiBC,WAAjB,eACA,eAA4BP,QAAQ,CAAC,EAAD,CAApC,yCAAOQ,MAAP,eAAeC,SAAf,eAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,CAAOC,KAAP,CAAiB,CAChC,OAAQD,IAAR,EACE,IAAK,UAAL,CACE,GAAI,CAAC,GAAIE,CAAAA,MAAJ,CAAW,iBAAX,EAA8BC,IAA9B,CAAmCF,KAAnC,CAAD,EAA8CA,KAAK,CAACG,MAAN,GAAiB,CAAnE,CAAsE,CACpEN,SAAS,gCACJD,MADI,MAEPJ,QAAQ,CAAE,IAFH,GAAT,CAID,CALD,IAKO,CACL,GAAIY,CAAAA,MAAM,CAAGf,IAAI,CAACO,MAAD,CAAS,UAAT,CAAjB,CACAC,SAAS,CAACO,MAAD,CAAT,CACD,CACD,MAEF,IAAK,UAAL,CACE,GAAI,CAAC,GAAIH,CAAAA,MAAJ,CAAW,iBAAX,EAA8BC,IAA9B,CAAmCF,KAAnC,CAAD,EAA8CA,KAAK,CAACG,MAAN,GAAiB,EAAnE,CAAuE,CACrEN,SAAS,gCACJD,MADI,MAEPF,QAAQ,CAAE,IAFH,GAAT,CAID,CALD,IAKO,CACL,GAAIU,CAAAA,OAAM,CAAGf,IAAI,CAACO,MAAD,CAAS,UAAT,CAAjB,CACAC,SAAS,CAACO,OAAD,CAAT,CACD,CACD,MAvBJ,CAyBD,CA1BD,CA4BA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,OAAF,GAEA,GAAIR,CAAAA,IAAI,CAAGO,CAAC,CAACE,MAAF,CAAST,IAApB,CACA,GAAIU,CAAAA,GAAG,CAAGH,CAAC,CAACE,MAAF,CAASR,KAAnB,CAEAF,QAAQ,CAACC,IAAD,CAAOU,GAAP,CAAR,CAEA,GAAIV,IAAI,GAAK,UAAb,CAAyBN,WAAW,CAACgB,GAAD,CAAX,CACzB,GAAIV,IAAI,GAAK,UAAb,CAAyBJ,WAAW,CAACc,GAAD,CAAX,CAC1B,CAVD,CAYA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACJ,CAAD,CAAO,CAC1BA,CAAC,CAACK,cAAF,GAEA,GAAIC,MAAM,CAACC,IAAP,CAAYjB,MAAZ,EAAoBO,MAApB,GAA+B,CAAnC,CAAsCZ,QAAQ,GAA9C,IACK,CACHuB,KAAK,CAAC,gCAAD,CAAL,CACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CACF,CARD,CAUA,MAAO,CACLzB,QAAQ,CAARA,QADK,CAELE,QAAQ,CAARA,QAFK,CAGLD,WAAW,CAAXA,WAHK,CAILE,WAAW,CAAXA,WAJK,CAKLU,YAAY,CAAZA,YALK,CAMLK,YAAY,CAAZA,YANK,CAAP,CAQD,CA/DD,CAiEA,cAAepB,CAAAA,QAAf","sourcesContent":["import { useState } from \"react\";\nimport { omit } from \"lodash\";\n\nconst useLogin = (callback) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  const validate = (name, value) => {\n    switch (name) {\n      case \"username\":\n        if (!new RegExp(/^[A-Za-z-0-9]+$/).test(value) || value.length !== 8) {\n          setErrors({\n            ...errors,\n            username: true,\n          });\n        } else {\n          let newObj = omit(errors, \"username\");\n          setErrors(newObj);\n        }\n        break;\n\n      case \"password\":\n        if (!new RegExp(/^[A-Za-z-0-9]+$/).test(value) || value.length !== 12) {\n          setErrors({\n            ...errors,\n            password: true,\n          });\n        } else {\n          let newObj = omit(errors, \"password\");\n          setErrors(newObj);\n        }\n        break;\n    }\n  };\n\n  const handleChange = (e) => {\n    e.persist();\n\n    let name = e.target.name;\n    let val = e.target.value;\n\n    validate(name, val);\n\n    if (name === \"username\") setUsername(val);\n    if (name === \"password\") setPassword(val);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (Object.keys(errors).length === 0) callback();\n    else {\n      alert(\"Incorrect username or password\");\n      window.location.reload();\n    }\n  };\n\n  return {\n    username,\n    password,\n    setUsername,\n    setPassword,\n    handleChange,\n    handleSubmit,\n  };\n};\n\nexport default useLogin;\n"]},"metadata":{},"sourceType":"module"}