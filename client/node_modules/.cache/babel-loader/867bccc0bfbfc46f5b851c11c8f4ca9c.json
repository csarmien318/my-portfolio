{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport axios from \"axios\"; // import API_KEY from \"../backend/.env\";\n\nconst baseUrl = \"https://api.weatherapi.com/v1/current.json\"; // const API_KEY = \"3a85ac2320ee43aba5f220038220302\";\n\nconst useWeather = () => {\n  _s();\n\n  const [error, setError] = useState(false);\n  const [loader, setLoader] = useState(false);\n  const [weather, setWeather] = useState(null);\n\n  const getData = async location => {\n    try {\n      await axios(`${baseUrl}`, {\n        params: {\n          key: process.env.REACT_APP_API_KEY,\n          q: location\n        }\n      });\n    } catch (error) {\n      if (location === \"\") {\n        setError(\"Enter a city\");\n        console.log(error);\n      } else if (error.response && error.response.status >= \"400\") {\n        setError(\"Sorry, we couldn't find the city you entered.\");\n        console.log(error);\n      } else {\n        console.log(\"Logging error...\", error);\n        alert(\"An unexpected error occurred.\");\n      }\n\n      setLoader(false);\n      return;\n    }\n\n    return await axios(`${baseUrl}`, {\n      params: {\n        key: process.env.REACT_APP_API_KEY,\n        q: location\n      }\n    });\n  };\n\n  const gatherData = data => {\n    setLoader(false);\n    setWeather({\n      city: data.location.name,\n      state: data.location.region,\n      country: data.location.country,\n      temperature: data.current.temp_f,\n      conditions: data.current.condition.text,\n      precipitation: data.current.precip_in,\n      icon: data.current.condition.icon,\n      humidity: data.current.humidity,\n      feelsLike: data.current.feelslike_f,\n      windSpeed: data.current.wind_mph,\n      windDirection: data.current.wind_dir,\n      pressure: data.current.pressure_in,\n      visibility: data.current.vis_miles,\n      uvIndex: data.current.uv,\n      date: data.current.last_updated\n    });\n    console.log(data);\n  };\n\n  const submitRequest = async location => {\n    setLoader(true);\n    setError(false);\n    const response = await getData(location);\n    if (!response) return;\n    const {\n      data\n    } = response;\n    gatherData(data);\n  };\n\n  return {\n    error,\n    loader,\n    weather,\n    submitRequest\n  };\n};\n\n_s(useWeather, \"WFWJjLDRxx3HbdWFPigElpOcNIo=\");\n\nexport default useWeather;","map":{"version":3,"sources":["/Users/chritsophersarmiento/git/my-portfolio/src/hooks/useWeather.js"],"names":["useState","axios","baseUrl","useWeather","error","setError","loader","setLoader","weather","setWeather","getData","location","params","key","process","env","REACT_APP_API_KEY","q","console","log","response","status","alert","gatherData","data","city","name","state","region","country","temperature","current","temp_f","conditions","condition","text","precipitation","precip_in","icon","humidity","feelsLike","feelslike_f","windSpeed","wind_mph","windDirection","wind_dir","pressure","pressure_in","visibility","vis_miles","uvIndex","uv","date","last_updated","submitRequest"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport axios from \"axios\";\n// import API_KEY from \"../backend/.env\";\n\nconst baseUrl = \"https://api.weatherapi.com/v1/current.json\";\n// const API_KEY = \"3a85ac2320ee43aba5f220038220302\";\n\nconst useWeather = () => {\n  const [error, setError] = useState(false);\n  const [loader, setLoader] = useState(false);\n  const [weather, setWeather] = useState(null);\n\n  const getData = async (location) => {\n    try {\n      await axios(`${baseUrl}`, {\n        params: { key: process.env.REACT_APP_API_KEY, q: location },\n      });\n    } catch (error) {\n      if (location === \"\") {\n        setError(\"Enter a city\");\n        console.log(error);\n      } else if (error.response && error.response.status >= \"400\") {\n        setError(\"Sorry, we couldn't find the city you entered.\");\n        console.log(error);\n      } else {\n        console.log(\"Logging error...\", error);\n        alert(\"An unexpected error occurred.\");\n      }\n      setLoader(false);\n      return;\n    }\n    return await axios(`${baseUrl}`, {\n      params: { key: process.env.REACT_APP_API_KEY, q: location },\n    });\n  };\n\n  const gatherData = (data) => {\n    setLoader(false);\n    setWeather({\n      city: data.location.name,\n      state: data.location.region,\n      country: data.location.country,\n      temperature: data.current.temp_f,\n      conditions: data.current.condition.text,\n      precipitation: data.current.precip_in,\n      icon: data.current.condition.icon,\n      humidity: data.current.humidity,\n      feelsLike: data.current.feelslike_f,\n      windSpeed: data.current.wind_mph,\n      windDirection: data.current.wind_dir,\n      pressure: data.current.pressure_in,\n      visibility: data.current.vis_miles,\n      uvIndex: data.current.uv,\n      date: data.current.last_updated,\n    });\n    console.log(data);\n  };\n\n  const submitRequest = async (location) => {\n    setLoader(true);\n    setError(false);\n\n    const response = await getData(location);\n    if (!response) return;\n\n    const { data } = response;\n    gatherData(data);\n  };\n\n  return {\n    error,\n    loader,\n    weather,\n    submitRequest,\n  };\n};\n\nexport default useWeather;\n"]},"metadata":{},"sourceType":"module"}