{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.interceptXMLHttpRequest = void 0;\n\nvar XMLHttpRequestOverride_1 = require(\"./XMLHttpRequestOverride\");\n\nvar debug = require('debug')('XHR');\n\nvar pureXMLHttpRequest = // Although executed in node, certain processes emulate the DOM-like environment\n// (i.e. `js-dom` in Jest). The `window` object would be avilable in such environments.\ntypeof window === 'undefined' ? undefined : window.XMLHttpRequest;\n/**\n * Intercepts requests issued via `XMLHttpRequest`.\n */\n\nvar interceptXMLHttpRequest = function (observer, resolver) {\n  if (pureXMLHttpRequest) {\n    debug('patching \"XMLHttpRequest\" module...');\n    var XMLHttpRequestOverride = XMLHttpRequestOverride_1.createXMLHttpRequestOverride({\n      pureXMLHttpRequest: pureXMLHttpRequest,\n      observer: observer,\n      resolver: resolver\n    });\n    window.XMLHttpRequest = XMLHttpRequestOverride;\n  }\n\n  return function () {\n    if (pureXMLHttpRequest) {\n      debug('restoring modules...');\n      window.XMLHttpRequest = pureXMLHttpRequest;\n    }\n  };\n};\n\nexports.interceptXMLHttpRequest = interceptXMLHttpRequest;","map":{"version":3,"sources":["../../../src/interceptors/XMLHttpRequest/index.ts"],"names":[],"mappings":";;;;;;;AACA,IAAA,wBAAA,GAAA,OAAA,CAAA,0BAAA,CAAA;;AAEA,IAAM,KAAK,GAAG,OAAO,CAAC,OAAD,CAAP,CAAiB,KAAjB,CAAd;;AAEA,IAAM,kBAAkB,GACtB;AACA;AACA,OAAO,MAAP,KAAkB,WAAlB,GAAgC,SAAhC,GAA4C,MAAM,CAAC,cAHrD;AAKA;;AAEG;;AACI,IAAM,uBAAuB,GAAgB,UAAC,QAAD,EAAW,QAAX,EAAmB;AACrE,MAAI,kBAAJ,EAAwB;AACtB,IAAA,KAAK,CAAC,qCAAD,CAAL;AAEA,QAAM,sBAAsB,GAAG,wBAAA,CAAA,4BAAA,CAA6B;AAC1D,MAAA,kBAAkB,EAAA,kBADwC;AAE1D,MAAA,QAAQ,EAAA,QAFkD;AAG1D,MAAA,QAAQ,EAAA;AAHkD,KAA7B,CAA/B;AAMA,IAAA,MAAM,CAAC,cAAP,GAAwB,sBAAxB;AACD;;AAED,SAAO,YAAA;AACL,QAAI,kBAAJ,EAAwB;AACtB,MAAA,KAAK,CAAC,sBAAD,CAAL;AAEA,MAAA,MAAM,CAAC,cAAP,GAAwB,kBAAxB;AACD;AACF,GAND;AAOD,CApBM;;AAAM,OAAA,CAAA,uBAAA,GAAuB,uBAAvB","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.interceptXMLHttpRequest = void 0;\nvar XMLHttpRequestOverride_1 = require(\"./XMLHttpRequestOverride\");\nvar debug = require('debug')('XHR');\nvar pureXMLHttpRequest = \n// Although executed in node, certain processes emulate the DOM-like environment\n// (i.e. `js-dom` in Jest). The `window` object would be avilable in such environments.\ntypeof window === 'undefined' ? undefined : window.XMLHttpRequest;\n/**\n * Intercepts requests issued via `XMLHttpRequest`.\n */\nvar interceptXMLHttpRequest = function (observer, resolver) {\n    if (pureXMLHttpRequest) {\n        debug('patching \"XMLHttpRequest\" module...');\n        var XMLHttpRequestOverride = XMLHttpRequestOverride_1.createXMLHttpRequestOverride({\n            pureXMLHttpRequest: pureXMLHttpRequest,\n            observer: observer,\n            resolver: resolver,\n        });\n        window.XMLHttpRequest = XMLHttpRequestOverride;\n    }\n    return function () {\n        if (pureXMLHttpRequest) {\n            debug('restoring modules...');\n            window.XMLHttpRequest = pureXMLHttpRequest;\n        }\n    };\n};\nexports.interceptXMLHttpRequest = interceptXMLHttpRequest;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}