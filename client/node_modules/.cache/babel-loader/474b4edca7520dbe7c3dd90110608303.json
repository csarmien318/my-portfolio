{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { omit } from \"lodash\";\n\nconst useLogin = callback => {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errors, setErrors] = useState(\"\");\n  const [submitted, setSubmitted] = useState(false);\n  useEffect(() => {\n    setErrors(errors);\n    console.log(\"COMING FROM useLogin, errors: \", errors);\n    setSubmitted(false);\n  });\n\n  const validate = (username, password) => {\n    if (!new RegExp(/^[A-Za-z-0-9]+$/).test(username)) {\n      setErrors(\"Incorrect username or password\");\n    } else setErrors(\"\");\n\n    if (!new RegExp(/^[A-Za-z-0-9]+$/).test(password) && password.length !== 12) {\n      setErrors(\"Incorrect username or password\");\n    } else setErrors(\"\");\n  }; // const validate = (name, value) => {\n  //   switch (name) {\n  //     case \"username\":\n  //       if (!new RegExp(/^[A-Za-z-0-9]+$/).test(value)) {\n  //         setErrors(\"Incorrect username or password\");\n  //       } else setErrors(\"\");\n  //       break;\n  //     case \"password\":\n  //       if (!new RegExp(/^[A-Za-z-0-9]+$/).test(value) && value.length !== 12) {\n  //         setErrors(\"Incorrect username or password\");\n  //       } else setErrors(\"\");\n  //       break;\n  //     default:\n  //       break;\n  //   }\n  // };\n\n\n  const handleChange = e => {\n    e.persist();\n    let name = e.target.name;\n    let val = e.target.value;\n    validate(name, val);\n    console.log(errors);\n    if (name === \"username\") setUsername(val);\n    if (name === \"password\") setPassword(val);\n  };\n\n  const handleSubmit = e => {\n    if (e) e.preventDefault(); // validate(username, password);\n    // console.log(errors);\n\n    if (!errors) {\n      setSubmitted(true);\n      callback();\n    } else {\n      alert(errors);\n      return;\n    }\n  };\n\n  return {\n    username,\n    password,\n    errors,\n    submitted,\n    setUsername,\n    setPassword,\n    handleChange,\n    handleSubmit\n  };\n};\n\n_s(useLogin, \"kzuvI6Pk8Y+Wfbwx/m71HXbeczc=\");\n\nexport default useLogin;","map":{"version":3,"sources":["/Users/chritsophersarmiento/git/my-portfolio/src/hooks/useLogin.js"],"names":["useState","useEffect","omit","useLogin","callback","username","setUsername","password","setPassword","errors","setErrors","submitted","setSubmitted","console","log","validate","RegExp","test","length","handleChange","e","persist","name","target","val","value","handleSubmit","preventDefault","alert"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,IAAT,QAAqB,QAArB;;AAEA,MAAMC,QAAQ,GAAIC,QAAD,IAAc;AAAA;;AAC7B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACS,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACW,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAAC,KAAD,CAA1C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,SAAS,CAACD,MAAD,CAAT;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8CL,MAA9C;AACAG,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,GAJQ,CAAT;;AAMA,QAAMG,QAAQ,GAAG,CAACV,QAAD,EAAWE,QAAX,KAAwB;AACvC,QAAI,CAAC,IAAIS,MAAJ,CAAW,iBAAX,EAA8BC,IAA9B,CAAmCZ,QAAnC,CAAL,EAAmD;AACjDK,MAAAA,SAAS,CAAC,gCAAD,CAAT;AACD,KAFD,MAEOA,SAAS,CAAC,EAAD,CAAT;;AAEP,QACE,CAAC,IAAIM,MAAJ,CAAW,iBAAX,EAA8BC,IAA9B,CAAmCV,QAAnC,CAAD,IACAA,QAAQ,CAACW,MAAT,KAAoB,EAFtB,EAGE;AACAR,MAAAA,SAAS,CAAC,gCAAD,CAAT;AACD,KALD,MAKOA,SAAS,CAAC,EAAD,CAAT;AACR,GAXD,CAZ6B,CAwB7B;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,QAAMS,YAAY,GAAIC,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,OAAF;AAEA,QAAIC,IAAI,GAAGF,CAAC,CAACG,MAAF,CAASD,IAApB;AACA,QAAIE,GAAG,GAAGJ,CAAC,CAACG,MAAF,CAASE,KAAnB;AAEAV,IAAAA,QAAQ,CAACO,IAAD,EAAOE,GAAP,CAAR;AACAX,IAAAA,OAAO,CAACC,GAAR,CAAYL,MAAZ;AAEA,QAAIa,IAAI,KAAK,UAAb,EAAyBhB,WAAW,CAACkB,GAAD,CAAX;AACzB,QAAIF,IAAI,KAAK,UAAb,EAAyBd,WAAW,CAACgB,GAAD,CAAX;AAC1B,GAXD;;AAaA,QAAME,YAAY,GAAIN,CAAD,IAAO;AAC1B,QAAIA,CAAJ,EAAOA,CAAC,CAACO,cAAF,GADmB,CAG1B;AACA;;AAEA,QAAI,CAAClB,MAAL,EAAa;AACXG,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACAR,MAAAA,QAAQ;AACT,KAHD,MAGO;AACLwB,MAAAA,KAAK,CAACnB,MAAD,CAAL;AACA;AACD;AACF,GAbD;;AAeA,SAAO;AACLJ,IAAAA,QADK;AAELE,IAAAA,QAFK;AAGLE,IAAAA,MAHK;AAILE,IAAAA,SAJK;AAKLL,IAAAA,WALK;AAMLE,IAAAA,WANK;AAOLW,IAAAA,YAPK;AAQLO,IAAAA;AARK,GAAP;AAUD,CAhFD;;GAAMvB,Q;;AAkFN,eAAeA,QAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { omit } from \"lodash\";\n\nconst useLogin = (callback) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errors, setErrors] = useState(\"\");\n  const [submitted, setSubmitted] = useState(false);\n\n  useEffect(() => {\n    setErrors(errors);\n    console.log(\"COMING FROM useLogin, errors: \", errors);\n    setSubmitted(false);\n  });\n\n  const validate = (username, password) => {\n    if (!new RegExp(/^[A-Za-z-0-9]+$/).test(username)) {\n      setErrors(\"Incorrect username or password\");\n    } else setErrors(\"\");\n\n    if (\n      !new RegExp(/^[A-Za-z-0-9]+$/).test(password) &&\n      password.length !== 12\n    ) {\n      setErrors(\"Incorrect username or password\");\n    } else setErrors(\"\");\n  };\n  // const validate = (name, value) => {\n  //   switch (name) {\n  //     case \"username\":\n  //       if (!new RegExp(/^[A-Za-z-0-9]+$/).test(value)) {\n  //         setErrors(\"Incorrect username or password\");\n  //       } else setErrors(\"\");\n  //       break;\n\n  //     case \"password\":\n  //       if (!new RegExp(/^[A-Za-z-0-9]+$/).test(value) && value.length !== 12) {\n  //         setErrors(\"Incorrect username or password\");\n  //       } else setErrors(\"\");\n  //       break;\n  //     default:\n  //       break;\n  //   }\n  // };\n\n  const handleChange = (e) => {\n    e.persist();\n\n    let name = e.target.name;\n    let val = e.target.value;\n\n    validate(name, val);\n    console.log(errors);\n\n    if (name === \"username\") setUsername(val);\n    if (name === \"password\") setPassword(val);\n  };\n\n  const handleSubmit = (e) => {\n    if (e) e.preventDefault();\n\n    // validate(username, password);\n    // console.log(errors);\n\n    if (!errors) {\n      setSubmitted(true);\n      callback();\n    } else {\n      alert(errors);\n      return;\n    }\n  };\n\n  return {\n    username,\n    password,\n    errors,\n    submitted,\n    setUsername,\n    setPassword,\n    handleChange,\n    handleSubmit,\n  };\n};\n\nexport default useLogin;\n"]},"metadata":{},"sourceType":"module"}